<div class="position-fixed top-50 start-50 translate-middle d-flex justify-content-center align-items-center w-100 px-3"
     style="z-index: 9999">
    <div class="w-100" style="max-width: 500px;">
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        {% for category, message in messages %}
        <div class="toast show text-bg-{{ 'success' if category == 'success' else 'danger' }} border-0 mb-3 w-100"
             role="alert" aria-live="assertive" aria-atomic="true"
             data-bs-delay="4000" data-bs-autohide="true">
            <div class="d-flex">
                <div class="toast-body text-center">
                    <i class="fas fa-{{ 'check-circle' if category == 'success' else 'exclamation-circle' }} me-2"></i>
                    {{ message }}
                </div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"
                        aria-label="Close"></button>
            </div>
        </div>
        {% endfor %}
        {% endif %}
        {% endwith %}
    </div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        var toastElList = [].slice.call(document.querySelectorAll('.toast'));
        var toastList = toastElList.map(function (toastEl) {
            if (!toastEl.dataset.shown) {
                var toast = new bootstrap.Toast(toastEl);
                toast.show();
                toastEl.dataset.shown = "true";
                return toast;
            }
        }).filter(Boolean);
    });
</script>